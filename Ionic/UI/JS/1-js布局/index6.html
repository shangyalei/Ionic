<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width,height=device-height">
    <script src="../../lib/js/ionic.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../lib/css/ionic.min.css">
</head>
<body  ng-controller="firstCtrl">
	<ion-header-bar class="bar-positive">
		<h1 class="title">ion-refresher</h1>
	</ion-header-bar>
	<ion-content>
		<ion-refresher pulling-text="刷新中..."	on-refresh="doRefresh()" spinner="android">
		</ion-refresher>
		<ul class="list">
			<li class="item" ng-repeat="item in items">{{item}}</li>
		</ul>
	</ion-content>
</body>
</html>
<script>
angular.module("myApp", ["ionic"])
.controller("firstCtrl", function($scope) {
	$scope.items = ['item1','item2','item3'];
	var base = 1;
	$scope.doRefresh = function() {
		for(var i=0;i<10;i++,base++)
			$scope.items.unshift(["item ",base].join(""));
		// Stop the ion-refresher from spinning


		$scope.$broadcast("scroll.refreshComplete");
	};
});

</script>
